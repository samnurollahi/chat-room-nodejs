<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>چت گروهی برنامه نویسان</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css"
      integrity="sha384-nU14brUcp6StFntEOOEBvcJm4huWjB0OcIeQ3fltAfSmuZFrkAif0T+UtNGlKKQv"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container">
        <div class="row justify-content-center row-cols-1">
            <form class="col-md-4 border rounded p-3 shadow position-absolute top-50 start-50 translate-middle">
                <h4 class="h4 text-center mb-4 fw-bold">ورود به چت روم سیاه</h4>
                <div class="form-floating">
                    <input type="text" class="form-control form-control-sm" placeholder="test" id="input">
                    <label for="input">نام کاربری شما</label>
                </div>
                <button class="btn btn-dark m-auto d-block mt-3">ورود</button>
            </form>
        </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <script>
        const btn = document.getElementsByTagName("button")[0],
            input = document.getElementsByTagName("input")[0];

        window.addEventListener("load", () => {
            if(localStorage.getItem("nickname")) {
                location.replace("/chat.html")
            }
        })

        btn.addEventListener("click", (event) => {
            event.preventDefault()
            if(input.value) {
                localStorage.setItem("nickname", input.value)
                location.replace("/chat.html")
            }else {
                input.classList.add("border-danger")
            }
        })
    </script>
  </body>
</html>
